import{G as v}from"./GoalItem-D4VtYb-r.js";import{C as p}from"./IconCommunity-2zS3lh5s.js";import{N as C}from"./NavBar-BY5wZXIO.js";/* empty css                  */import{u as x,r as i,c as f,b as c,w as a,e as _,a as r,F as y,s as G,f as N,o as u,h as n,t as s,q as B}from"./index-BGjxC-AE.js";import{a as V}from"./axios-Cm0UX6qg.js";import{u as w}from"./token-DyPazYpg.js";import{n as g}from"./httputils-DDdl52ye.js";import"./chart-CDcNuTNj.js";const S={class:"flex-container"},I=r("div",{class:"header"},[r("h1",{class:"title"},"MÃ¥l og utfordringer")],-1),T={key:0,class:"main",id:"goals"},A=r("hr",null,null,-1),F={class:"footer"},j={__name:"GoalsView",setup(L){x();const m=i(!1),h=i(null),l=i(null),d=i(null);(async()=>{try{const e=w();await g("/goals"),V.get("http://localhost:8080/api/goals/user/"+e.getLoggedInUser(),e.getAxiosAuthorizationConfig()).then(function(t){const o=t.data;console.log(o),k(o),m.value=!0})}catch(e){h.value=e.toString()}finally{m.value=!1}})();const k=e=>{console.log(e[0].progress),d.value=e;for(let t in e)console.log(e[t].id==1),e[t].id!=1&&(l.value=e[t],d.value.splice(t,1))};return(e,t)=>(u(),f("div",S,[I,m.value?(u(),f("div",T,[c(v,{onClick:t[0]||(t[0]=o=>_(g)("/challenge"))},{icon:a(()=>[c(p)]),name:a(()=>[n(s(l.value.name),1)]),target:a(()=>[n(s(l.value.target),1)]),date:a(()=>[n(s(l.value.startDate),1)]),_:1}),A,r("div",null,[(u(!0),f(y,null,G(d.value,o=>(u(),B(v,{onClick:t[1]||(t[1]=$=>_(g)("/challenge"))},{icon:a(()=>[c(p)]),name:a(()=>[n(s(o.name),1)]),target:a(()=>[n(s(o.target),1)]),date:a(()=>[n(s(o.startDate)+" - "+s(o.endDate),1)]),_:2},1024))),256))])])):N("",!0),r("div",F,[c(C)])]))}};export{j as default};
